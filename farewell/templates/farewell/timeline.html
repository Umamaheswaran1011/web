{% extends 'farewell/base.html' %}
{% load static %}

{% block meta_description %}Our College Journey - A timeline of memories from 1st year to Final year{% endblock %}

{% block header_extra %}
<p style="color: #5a4a3a; margin-top: 0.5rem; font-family: 'Indie Flower', cursive; font-size: 1.2rem;">From the
    first day to the last âœ¨</p>
{% endblock %}

{% block content %}
<div>
    <!-- Add Milestone Button â€” Vintage Red Tape -->
    <div class="add-milestone-wrap">
        <a href="{% url 'farewell:add_milestone' %}" class="btn-add-milestone">+ Add Milestone</a>
    </div>

    {% if events %}
    <div class="timeline-wrapper">
        {% for event in events %}
        <div class="timeline-item animate-on-scroll slide-up">
            <div class="timeline-dot"></div>
            <div class="timeline-content">
                <!-- Edit / Delete Actions -->
                <div class="card-actions">
                    <a href="{% url 'farewell:edit_milestone' event.pk %}" title="Edit this memory">âœï¸</a>
                    <a href="{% url 'farewell:delete_milestone' event.pk %}" class="btn-action-delete"
                        title="Remove this memory">ğŸ—‘ï¸</a>
                </div>

                <h3>{{ event.title }}</h3>
                <div class="timeline-date">ğŸ“… {{ event.date|date:"F j, Y" }}</div>
                <p>{{ event.description }}</p>
                {% if event.image %}
                <img src="{{ event.image.url }}" alt="{{ event.title }}" loading="lazy">
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="timeline-empty">
        <p>No milestones yet â€” <a href="{% url 'farewell:add_milestone' %}">add your first memory</a>! ğŸ“</p>
    </div>
    {% endif %}
</div>
{% endblock %}